<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="genieclust.GIc" href="genieclust_gic.html" /><link rel="prev" title="Python Package genieclust Reference" href="genieclust.html" />
        <link rel="canonical" href="https://genieclust.gagolewski.com/genieclust_genie.html" />

    <link rel="shortcut icon" href="_static/favicon.png"/><!-- Generated with Sphinx 7.2.5 and Furo 2023.08.19 -->
        <title>genieclust.Genie - Python and R Package genieclust</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=dd03ec4f" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  --color-brand-primary: red;
  --color-brand-content: #CC3333;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  --color-brand-primary: #ff2b53;
  --color-brand-content: #dd3333;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  --color-brand-primary: #ff2b53;
  --color-brand-content: #dd3333;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Python and R Package genieclust</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto colour theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky">
<div class="sidebar-logo-container">
  <a class="sidebar-brand" href="index.html"><img class="sidebar-logo" src="https://www.gagolewski.com/_static/img/genieclust.png" alt="Logo"/></a>
</div>

<span class="sidebar-brand-text">
<a class="sidebar-brand" href="index.html">genieclust</a>
</span>
<div class="sidebar-brand">
1.1.5
</div>
<form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">genieclust</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">About</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.gagolewski.com/">Author</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gagolews/genieclust">Source Code (GitHub)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gagolews/genieclust/issues">Bug Tracker and Feature Suggestions</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pypi.org/project/genieclust/">PyPI Entry</a></li>
<li class="toctree-l1"><a class="reference external" href="https://CRAN.R-project.org/package=genieclust">CRAN Entry</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples and Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="weave/basics.html">Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="weave/sklearn_toy_example.html">Comparing Algorithms on Toy Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="weave/benchmarks_ar.html">Benchmarks (How Good Is It?)</a></li>
<li class="toctree-l1"><a class="reference internal" href="weave/timings.html">Timings (How Fast Is It?)</a></li>
<li class="toctree-l1"><a class="reference internal" href="weave/noise.html">Clustering with Noise Points Detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="weave/r.html">R Interface Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="genieclust.html">Python Package <cite>genieclust</cite> Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Python Package genieclust Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">genieclust.Genie</a></li>
<li class="toctree-l2"><a class="reference internal" href="genieclust_gic.html">genieclust.GIc</a></li>
<li class="toctree-l2"><a class="reference internal" href="genieclust_cluster_validity.html">genieclust.cluster_validity</a></li>
<li class="toctree-l2"><a class="reference internal" href="genieclust_compare_partitions.html">genieclust.compare_partitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="genieclust_inequality.html">genieclust.inequality</a></li>
<li class="toctree-l2"><a class="reference internal" href="genieclust_internal.html">genieclust.internal</a></li>
<li class="toctree-l2"><a class="reference internal" href="genieclust_plots.html">genieclust.plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="genieclust_tools.html">genieclust.tools</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="rapi.html">R Package <em>genieclust</em> Reference</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of R Package genieclust Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="rapi/cluster_validity.html">cluster_validity: Internal Cluster Validity Measures</a></li>
<li class="toctree-l2"><a class="reference internal" href="rapi/compare_partitions.html">compare_partitions: External Cluster Validity Measures and Pairwise Partition Similarity Scores</a></li>
<li class="toctree-l2"><a class="reference internal" href="rapi/emst_mlpack.html">emst_mlpack: Euclidean Minimum Spanning Tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="rapi/gclust.html">gclust: Hierarchical Clustering Algorithm Genie</a></li>
<li class="toctree-l2"><a class="reference internal" href="rapi/genieclust-package.html">genieclust-package: The Genie Hierarchical Clustering Algorithm (with Extras)</a></li>
<li class="toctree-l2"><a class="reference internal" href="rapi/inequality.html">inequality: Inequality Measures</a></li>
<li class="toctree-l2"><a class="reference internal" href="rapi/mst.html">mst: Minimum Spanning Tree of the Pairwise Distance Graph</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">See Also</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://clustering-benchmarks.gagolewski.com">Clustering Benchmarks</a></li>
<li class="toctree-l1"><a class="reference external" href="https://datawranglingpy.gagolewski.com/">Minimalist Data Wrangling in Python</a></li>
<li class="toctree-l1"><a class="reference external" href="https://deepr.gagolewski.com">Deep R Programming</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="news.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="weave/benchmarks_details.html">Benchmarks — Detailed Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="weave/benchmarks_approx.html">Benchmarks — Approximate Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="z_bibliography.html">References</a></li>
</ul>

</div></div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/gagolews/genieclust/issues/" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto colour theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="genieclust-genie">
<h1>genieclust.Genie<a class="headerlink" href="#genieclust-genie" title="Link to this heading">#</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="genieclust.Genie">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">genieclust.</span></span><span class="sig-name descname"><span class="pre">Genie</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_clusters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gini_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">M</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affinity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exact</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_full_tree</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_all_cuts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">postprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'boundary'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cast_float32</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mlpack_enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mlpack_leaf_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nmslib_n_neighbors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">64</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nmslib_params_init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'method':</span> <span class="pre">'hnsw'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nmslib_params_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'post':</span> <span class="pre">2}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nmslib_params_query</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#genieclust.Genie" title="Link to this definition">#</a></dt>
<dd><p>Genie++ hierarchical clustering algorithm</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>n_clusters</strong><span class="classifier">int</span></dt><dd><p>Number of clusters to detect.</p>
<p>If <cite>M</cite> &gt; 1 and <cite>postprocess</cite> is not <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code>, <cite>n_clusters</cite> = 1
can act as a noise point/outlier detector.
The approximate method (see parameter <cite>exact</cite>) can sometimes
fail to detect the coarsest-grained partitions; in such a case,
more clusters might be returned (with a warning).</p>
</dd>
<dt><strong>gini_threshold</strong><span class="classifier">float</span></dt><dd><p>Threshold for the Genie correction in [0,1].</p>
<p>The Gini index is used to quantify the inequality of the cluster
size distribution. Low thresholds highly penalise the formation
of small clusters. Threshold of 1.0 disables the correction
and for <cite>M</cite> = 1 makes the method be equivalent to the single
linkage algorithm.</p>
<p>The algorithm tends to be <em>stable</em> with respect to small changes
to the threshold — they do not tend to affect the output clustering.
Usually, thresholds of 0.1, 0.3, 0.5, and 0.7 are worth giving a try.</p>
</dd>
<dt><strong>M</strong><span class="classifier">int</span></dt><dd><p>Smoothing factor for the mutual reachability distance <a class="reference internal" href="#r6050e59d50fb-6" id="id1">[6]</a>.</p>
<p><cite>M</cite> = 1 gives the original Genie algorithm  <a class="reference internal" href="#r6050e59d50fb-1" id="id2">[1]</a> (with no noise point
detection) with respect to the chosen affinity as-is. Note that
for <cite>M &gt; 1</cite> we need additionally <span class="math notranslate nohighlight">\(O(M n)\)</span> working memory
for storing of points’ nearest neighbours.</p>
</dd>
<dt><strong>affinity</strong><span class="classifier">str</span></dt><dd><p>Metric used to compute the linkage.</p>
<ul>
<li><p>For <cite>exact</cite> = <code class="docutils literal notranslate"><span class="pre">True</span></code>:</p>
<p>One of:
<code class="docutils literal notranslate"><span class="pre">&quot;l2&quot;</span></code> (synonym: <code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>),
<code class="docutils literal notranslate"><span class="pre">&quot;l1&quot;</span></code> (synonym: <code class="docutils literal notranslate"><span class="pre">&quot;manhattan&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;cityblock&quot;</span></code>),
<code class="docutils literal notranslate"><span class="pre">&quot;cosinesimil&quot;</span></code> (synonym: <code class="docutils literal notranslate"><span class="pre">&quot;cosine&quot;</span></code>), or
<code class="docutils literal notranslate"><span class="pre">&quot;precomputed&quot;</span></code>.</p>
<p>In the latter case, the <cite>X</cite> argument to the <cite>fit</cite> method
must be a distance vector or a square-form distance matrix, see <cite>scipy.spatial.distance.pdist</cite>.</p>
</li>
<li><p>For <cite>exact</cite> = <code class="docutils literal notranslate"><span class="pre">False</span></code>:</p>
<p>Any dissimilarity supported by <cite>nmslib</cite>, see <a class="reference internal" href="#r6050e59d50fb-5" id="id3">[5]</a> and
<a class="reference external" href="https://github.com/nmslib/nmslib/blob/master/manual/spaces.md">https://github.com/nmslib/nmslib/blob/master/manual/spaces.md</a>,
for instance:
<code class="docutils literal notranslate"><span class="pre">&quot;l2&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;l2_sparse&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;l1&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;l1_sparse&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;linf&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;linf_sparse&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;cosinesimil&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;cosinesimil_sparse&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;negdotprod&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;negdotprod_sparse&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;angulardist&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;angulardist_sparse&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;leven&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;normleven&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;jaccard_sparse&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;bit_jaccard&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;bit_hamming&quot;</span></code>.</p>
</li>
</ul>
</dd>
<dt><strong>exact</strong><span class="classifier">bool</span></dt><dd><p>Whether to compute the minimum spanning tree exactly or rather
estimate it based on an approximate near-neighbour graph.</p>
<p>The exact method has time complexity of <span class="math notranslate nohighlight">\(O(d n^2)\)</span> <a class="reference internal" href="#r6050e59d50fb-2" id="id4">[2]</a>
(however, see <cite>mlpack_enabled</cite>) but only needs <span class="math notranslate nohighlight">\(O(n)\)</span> memory.</p>
<p>If <cite>exact</cite> is <code class="docutils literal notranslate"><span class="pre">False</span></code>, the minimum spanning tree is approximated
based on an approximate <span class="math notranslate nohighlight">\(k\)</span>-nearest neighbours graph found by
<cite>nmslib</cite> <a class="reference internal" href="#r6050e59d50fb-5" id="id5">[5]</a>. This is typically very fast but requires
<span class="math notranslate nohighlight">\(O(k n)\)</span> memory.</p>
</dd>
<dt><strong>compute_full_tree</strong><span class="classifier">bool</span></dt><dd><p>Whether to determine the whole cluster hierarchy and the
linkage matrix.</p>
<p>Only available if <cite>M</cite> = 1 and <cite>exact</cite> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.
Enables plotting of dendrograms or cutting
of the hierarchy at an arbitrary level, see the
<cite>children_</cite>, <cite>distances_</cite>, <cite>counts_</cite> attributes.</p>
</dd>
<dt><strong>compute_all_cuts</strong><span class="classifier">bool</span></dt><dd><p>Whether to compute the requested <cite>n_clusters</cite>-partition and all
the coarser-grained ones.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then the <cite>labels_</cite> attribute will be a matrix, see below.</p>
</dd>
<dt><strong>postprocess</strong><span class="classifier">{“boundary”, “none”, “all”}</span></dt><dd><p>Controls the treatment of noise points after the clusters are
identified.</p>
<p>In effect only if <cite>M</cite> &gt; 1. Each leaf in the minimum spanning tree
is treated as a <em>noise</em> point. We call it a <em>boundary point</em>
if it is amongst its adjacent vertex’s <cite>M</cite> - 1 nearest neighbours.
By default, only boundary points are merged with their nearest
<em>core</em> points.</p>
<p>To force a classical <cite>n_clusters</cite>-partition
of a data set (with no notion of noise), choose <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code>.
Furthermore, <code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code> leaves all leaves, i.e., noise points
(including the boundary ones) as-is.</p>
</dd>
<dt><strong>cast_float32</strong><span class="classifier">bool</span></dt><dd><p>Whether casting of data type to <code class="docutils literal notranslate"><span class="pre">float32</span></code> is to be performed.</p>
<p>If <cite>exact</cite> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, it decreases the run-time ca. 2 times
at a cost of greater memory use. Otherwise, note that <cite>nmslib</cite>
<em>requires</em> <code class="docutils literal notranslate"><span class="pre">float32</span></code> data anyway when using dense or sparse
numeric matrix inputs.</p>
<p>By setting <cite>cast_float32</cite> to <code class="docutils literal notranslate"><span class="pre">False</span></code> a user assures themself
that the inputs are of acceptable form.</p>
</dd>
<dt><strong>mlpack_enabled</strong><span class="classifier">“auto” or bool</span></dt><dd><p>Whether <cite>mlpack.emst</cite> should be used for computing the Euclidean
minimum spanning tree instead of the Jarník-Prim algorithm
when <cite>exact</cite> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Often fast for very low-dimensional spaces. As the name suggests,
only <cite>affinity</cite> of <code class="docutils literal notranslate"><span class="pre">'l2'</span></code> is supported (and <cite>M</cite> = 1).
By default, we rely on <cite>mlpack</cite> if it is installed and
<cite>n_features</cite> &lt;= 6.</p>
</dd>
<dt><strong>mlpack_leaf_size</strong><span class="classifier">int</span></dt><dd><p>Leaf size in the kd-tree when <cite>mlpack.emst</cite> is used.</p>
<p>According to the <cite>mlpack</cite> manual, leaves of size 1 give the best
performance at the cost of greater memory use.</p>
</dd>
<dt><strong>nmslib_n_neighbors</strong><span class="classifier">int</span></dt><dd><p>The number of approximate nearest neighbours used to estimate
the minimum spanning tree when when <cite>exact</cite> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If the number of nearest neighbours is too small, the nearest
neighbour graph might be disconnected and the number of obtained
clusters might be greater than the requested one.</p>
<p><cite>nmslib_n_neighbors</cite> must not be less than <cite>M</cite> - 1.</p>
</dd>
<dt><strong>nmslib_params_init</strong><span class="classifier">dict</span></dt><dd><p>A dictionary of parameters to be passed to <cite>nmslib.init</cite>
when <cite>exact</cite> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>See <a class="reference external" href="https://github.com/nmslib/nmslib/blob/master/manual/methods.md">https://github.com/nmslib/nmslib/blob/master/manual/methods.md</a>,
<a class="reference external" href="https://github.com/nmslib/nmslib/blob/master/manual/spaces.md">https://github.com/nmslib/nmslib/blob/master/manual/spaces.md</a>
and <a class="reference external" href="https://nmslib.github.io/nmslib/">https://nmslib.github.io/nmslib/</a>
for more details. The <cite>space</cite>, <cite>data_type</cite>, and <cite>dtype</cite> parameters
will be set based on the chosen <cite>affinity</cite> and the input <cite>X</cite>.</p>
</dd>
<dt><strong>nmslib_params_index</strong><span class="classifier">dict</span></dt><dd><p>A dictionary of parameters to be passed to <cite>index.createIndex</cite>,
where <cite>index</cite> is the object constructed with <cite>nmslib.init</cite>.</p>
<p>The <cite>indexThreadQty</cite> parameter will be set based on the
<code class="docutils literal notranslate"><span class="pre">OMP_NUM_THREADS</span></code> environment variable.</p>
</dd>
<dt><strong>nmslib_params_query</strong><span class="classifier">dict</span></dt><dd><p>A dictionary of parameters to be passed to <cite>index.setQueryTimeParams</cite>,
where <cite>index</cite> is the object constructed with <cite>nmslib.init</cite>.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool</span></dt><dd><p>Whether to print diagnostic messages and progress information
on <code class="docutils literal notranslate"><span class="pre">stderr</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p><strong>Genie</strong> is a robust and outlier resistant
hierarchical clustering algorithm <a class="reference internal" href="#r6050e59d50fb-1" id="id6">[1]</a>, originally published
as an R package <code class="docutils literal notranslate"><span class="pre">genie</span></code>. This new implementation is, amongst others,
much faster and now features optional smoothing and noise
point detection (if <cite>M</cite> &gt; 1).</p>
<p>Genie is based on a minimum spanning tree (MST) of the
pairwise distance graph of a given point set.
Just like the single linkage, it consumes the edges
of the MST in increasing order of weights. However, it prevents
the formation of clusters of highly imbalanced sizes; once the Gini index
of the cluster size distribution raises above an assumed threshold,
a forced merge of a point group of the smallest size is performed.
Its appealing simplicity goes hand in hand with its usability;
Genie often outperforms other clustering approaches on benchmark data.</p>
<p>The Genie algorithm itself has <span class="math notranslate nohighlight">\(O(n \sqrt{n})\)</span> time
and <span class="math notranslate nohighlight">\(O(n)\)</span> memory complexity provided that a minimum spanning
tree of the pairwise distance graph is given.
Generally, our parallelised implementation of a Jarník (Prim/Dijkstra)-like
method <a class="reference internal" href="#r6050e59d50fb-2" id="id7">[2]</a> will be called to compute an MST, which takes <span class="math notranslate nohighlight">\(O(d n^2)\)</span> time.
However, <cite>mlpack</cite> <a class="reference internal" href="#r6050e59d50fb-3" id="id8">[3]</a> provides a very fast
alternative in the case of Euclidean spaces of (very) low dimensionality
and <cite>M</cite> = 1, see <a class="reference internal" href="#r6050e59d50fb-4" id="id9">[4]</a> and the <cite>mlpack_enabled</cite> parameter.
Moreover, in the approximate method (<cite>exact</cite> = <code class="docutils literal notranslate"><span class="pre">False</span></code>) we apply
the Kruskal algorithm on the near-neighbour graph determined
by <cite>nmslib</cite> <a class="reference internal" href="#r6050e59d50fb-5" id="id10">[5]</a>. Albeit this only gives <em>some</em> sort of a spanning <em>forest</em>,
such a data structure turns out to be very suitable for our clustering task
(note that the set of connected components will determine the top
level of the identified cluster hierarchy).</p>
<p>Note that the <cite>mlpack</cite> and <cite>nmslib</cite> dependencies are optional.
Make sure they are installed on your system.</p>
<p>The Genie correction together with the smoothing factor <cite>M</cite> &gt; 1
gives a robustified version of the HDBSCAN* <a class="reference internal" href="#r6050e59d50fb-6" id="id11">[6]</a> algorithm that,
contrary to its predecessor, is able to detect a <em>predefined</em> number of
clusters. Hence, it is independent of the <em>DBSCAN</em>’s somewhat magical
<code class="docutils literal notranslate"><span class="pre">eps</span></code> parameter or the <em>HDBSCAN</em>’s <code class="docutils literal notranslate"><span class="pre">min_cluster_size</span></code> one.
If <cite>M</cite> &gt; 1, then the minimum spanning tree is computed with respect to the
mutual reachability distance (based, e.g., on the Euclidean metric).
Formally, the distance <span class="math notranslate nohighlight">\(m(i,j)\)</span> is used instead of the
chosen “raw” distance, <span class="math notranslate nohighlight">\(d(i,j)\)</span>. It holds
<span class="math notranslate nohighlight">\(m(i,j)=\max(d(i,j), c(i), c(j))\)</span>,
where the “core” distance <span class="math notranslate nohighlight">\(c(i)\)</span> is given by
<span class="math notranslate nohighlight">\(d(i,k)\)</span> with <span class="math notranslate nohighlight">\(k\)</span> being the (<cite>M</cite> - 1)-th nearest neighbour
of <span class="math notranslate nohighlight">\(i\)</span>. This makes “noise” and “boundary” points being “pulled away”
from each other, however, note that <cite>M</cite> = 2 corresponds to the
original distance. During the clustering procedure, all leaves of the MST
do not take part in the clustering process. They may be merged
with the nearest clusters during the postprocessing stage,
or left marked as “noise” observations.</p>
<dl class="field-list simple">
<dt class="field-odd">Environment variables<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>OMP_NUM_THREADS</dt><dd><p>Controls the number of threads used for computing the minimum
spanning tree (not supported by <cite>mlpack</cite>).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r6050e59d50fb-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id2">1</a>,<a role="doc-backlink" href="#id6">2</a>)</span>
<p>Gagolewski M., Bartoszuk M., Cena A.,
Genie: A new, fast, and outlier-resistant hierarchical
clustering algorithm, <em>Information Sciences</em> 363, 2016, 8-23.
doi:10.1016/j.ins.2016.05.003.</p>
</div>
<div class="citation" id="r6050e59d50fb-2" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id4">1</a>,<a role="doc-backlink" href="#id7">2</a>)</span>
<p>Olson C.F., Parallel algorithms for hierarchical clustering,
<em>Parallel Computing</em> 21(8), 1995, 1313-1325.
doi:10.1016/0167-8191(95)00017-I.</p>
</div>
<div class="citation" id="r6050e59d50fb-3" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">3</a><span class="fn-bracket">]</span></span>
<p>Curtin R.R., Edel M., Lozhnikov M., Mentekidis Y., Ghaisas S., Zhang S.,
mlpack 3: A fast, flexible machine learning library,
<em>Journal of Open Source Software</em> 3(26), 726, 2018.
doi:10.21105/joss.00726.</p>
</div>
<div class="citation" id="r6050e59d50fb-4" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id9">4</a><span class="fn-bracket">]</span></span>
<p>March W.B., Ram P., Gray A.G.,
Fast Euclidean Minimum Spanning Tree: Algorithm, Analysis, and Applications,
<em>Proc. ACM SIGKDD’10</em>, 2010, 603-611.</p>
</div>
<div class="citation" id="r6050e59d50fb-5" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id3">1</a>,<a role="doc-backlink" href="#id5">2</a>,<a role="doc-backlink" href="#id10">3</a>)</span>
<p>Naidan B., Boytsov L., Malkov Y.,  Novak D.,
<em>Non-metric space library (NMSLIB) manual</em>, version 2.0, 2019.
<a class="reference external" href="https://github.com/nmslib/nmslib/blob/master/manual/latex/manual.pdf">https://github.com/nmslib/nmslib/blob/master/manual/latex/manual.pdf</a>.</p>
</div>
<div class="citation" id="r6050e59d50fb-6" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id1">1</a>,<a role="doc-backlink" href="#id11">2</a>)</span>
<p>Campello R.J.G.B., Moulavi D., Sander J.,
Density-based clustering based on hierarchical density estimates,
<em>Lecture Notes in Computer Science</em> 7819, 2013, 160-172,
doi:10.1007/978-3-642-37456-2_14.</p>
</div>
<div class="citation" id="r6050e59d50fb-7" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></span>
<p>Gagolewski M., Cena A., Bartoszuk M., Brzozowski L.,
Clustering with minimum spanning trees: How good can it be?,
2023, under review (preprint), doi:10.48550/arXiv.2303.05679.</p>
</div>
</div>
<dl class="field-list">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>labels_</strong><span class="classifier">ndarray</span></dt><dd><p>Detected cluster labels.</p>
<p>If <cite>compute_all_cuts</cite> is <code class="docutils literal notranslate"><span class="pre">False</span></code> (the default),
this is an integer vector such that <code class="docutils literal notranslate"><span class="pre">labels_[i]</span></code> gives
the cluster ID (between 0 and <cite>n_clusters_</cite> - 1) of the i-th object.
If <cite>M</cite> &gt; 1, noise points are labelled -1 (unless taken care of in the
postprocessing stage).</p>
<p>Otherwise, i.e., if <cite>compute_all_cuts</cite> is <code class="docutils literal notranslate"><span class="pre">True</span></code>,
all partitions of cardinality down to <cite>n_clusters</cite>
are determined; <code class="docutils literal notranslate"><span class="pre">labels_[j,i]</span></code> denotes the cluster ID of the i-th
point in a j-partition. We assume that both the 0- and 1- partition
distinguishes only between noise- and non-noise points,
however, no postprocessing is conducted on the 0-partition
(there might be points with labels of -1 even if <cite>postprocess</cite>
is <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code>).</p>
<p>Note that the approximate method (<cite>exact</cite> of <code class="docutils literal notranslate"><span class="pre">False</span></code>) might fail
to determine the fine-grained clusters (if the approximate
neighbour graph is disconnected) - the actual number of clusters
detected can be larger.</p>
</dd>
<dt><strong>n_clusters_</strong><span class="classifier">int</span></dt><dd><p>The actual number of clusters detected by the algorithm.</p>
<p>As we argued above, the approximate method might sometimes yield
a more fine-grained partition than the requested one (with a warning).
Moreover, there might be too many noise points in the dataset.</p>
</dd>
<dt><strong>n_samples_</strong><span class="classifier">int</span></dt><dd><p>The number of points in the fitted dataset.</p>
</dd>
<dt><strong>n_features_</strong><span class="classifier">int</span></dt><dd><p>The number of features in the fitted dataset.</p>
<p>If the information is not available, it is be set to -1.</p>
</dd>
<dt><strong>children_</strong><span class="classifier">None or ndarray</span></dt><dd><p>If <cite>compute_full_tree</cite> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, this is a matrix whose
i-th row provides the information on the clusters merged in
the i-th iteration. See the description of <code class="docutils literal notranslate"><span class="pre">Z[:,0]</span></code> and <code class="docutils literal notranslate"><span class="pre">Z[:,1]</span></code>
in <cite>scipy.cluster.hierarchy.linkage</cite>. Together with <cite>distances_</cite> and
<cite>counts_</cite>, this constitutes the linkage matrix that can be used for
plotting the dendrogram.</p>
</dd>
<dt><strong>distances_</strong><span class="classifier">None or ndarray</span></dt><dd><p>If <cite>compute_full_tree</cite> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, this is a vector that gives
the distance between two clusters merged in each iteration,
see the description of <code class="docutils literal notranslate"><span class="pre">Z[:,2]</span></code> in <cite>scipy.cluster.hierarchy.linkage</cite>.</p>
<p>As the original Genie algorithm does not guarantee that that distances
are ordered increasingly (there are other hierarchical
clustering linkages that violate the ultrametricity property as well),
these are corrected by applying
<code class="docutils literal notranslate"><span class="pre">distances_</span> <span class="pre">=</span> <span class="pre">genieclust.tools.cummin(distances_[::-1])[::-1]</span></code>.</p>
</dd>
<dt><strong>counts_</strong><span class="classifier">None or ndarray</span></dt><dd><p>If <cite>compute_full_tree</cite> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, this is a vector giving
the number of elements in a cluster created in each iteration.
See the description of <code class="docutils literal notranslate"><span class="pre">Z[:,3]</span></code> in <cite>scipy.cluster.hierarchy.linkage</cite>.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<div class="table-wrapper autosummary longtable docutils container">
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#genieclust.Genie.fit" title="genieclust.Genie.fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fit</span></code></a>(X[, y])</p></td>
<td><p>Perform cluster analysis of a dataset.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_predict</span></code>(X[, y])</p></td>
<td><p>Perform cluster analysis of a dataset and return the predicted labels.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_metadata_routing</span></code>()</p></td>
<td><p>Get metadata routing of this object.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_params</span></code>([deep])</p></td>
<td><p>Get parameters for this estimator.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_params</span></code>(**params)</p></td>
<td><p>Set the parameters of this estimator.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="genieclust.Genie.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#genieclust.Genie.fit" title="Link to this definition">#</a></dt>
<dd><p>Perform cluster analysis of a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>X</strong><span class="classifier">object</span></dt><dd><p>Typically a matrix with <code class="docutils literal notranslate"><span class="pre">n_samples</span></code> rows and <code class="docutils literal notranslate"><span class="pre">n_features</span></code>
columns, see below for more details and options.</p>
</dd>
<dt><strong>y</strong><span class="classifier">None</span></dt><dd><p>Ignored.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>self</strong><span class="classifier">genieclust.Genie</span></dt><dd><p>The object that the method was called on.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Refer to the <cite>labels_</cite> and <cite>n_clusters_</cite> attributes for the result.</p>
<p>Acceptable <cite>X</cite> types depend whether we use the exact or the approximate
method.</p>
<ul>
<li><p><cite>X</cite> when <cite>exact</cite> = <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>For <cite>affinity</cite> of <code class="docutils literal notranslate"><span class="pre">&quot;precomputed&quot;</span></code>, <cite>X</cite> should either
be a distance vector of length <code class="docutils literal notranslate"><span class="pre">n_samples*(n_samples-1)/2</span></code>
(see <cite>scipy.spatial.distance.pdist</cite>) or a square distance matrix
of shape <code class="docutils literal notranslate"><span class="pre">(n_samples,</span> <span class="pre">n_samples)</span></code>
(see <cite>scipy.spatial.distance.squareform</cite>).</p>
<p>Otherwise, <cite>X</cite> should be real-valued matrix
(dense <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, or an object coercible to)
with <code class="docutils literal notranslate"><span class="pre">n_samples</span></code> rows and <code class="docutils literal notranslate"><span class="pre">n_features</span></code> columns.</p>
<p>In the latter case, it might be a good idea to standardise
or at least somehow preprocess the coordinates of the input data
points by calling, for instance,
<code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">=</span> <span class="pre">(X-X.mean(axis=0))/X.std(axis=None,</span> <span class="pre">ddof=1)</span></code>
so that the dataset is centred at 0 and has total variance of 1.
This way the method becomes translation and scale invariant.
What’s more, if data are recorded with small precision (say, up
to few decimal digits), adding a tiny bit of Gaussian noise will
assure the solution is unique (note that this generally applies
to other distance-based clustering algorithms as well).</p>
</li>
<li><p><cite>X</cite> when <cite>exact</cite> = <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>The approximate method relies on <cite>nmslib</cite> for locating the
nearest neighbours. Therefore, it supports all datatypes
described in <a class="reference external" href="https://github.com/nmslib/nmslib/blob/master/manual/spaces.md">https://github.com/nmslib/nmslib/blob/master/manual/spaces.md</a>.
Depending on the chosen <cite>affinity</cite>, <cite>X</cite> may hence be
a real-valued <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> matrix with <code class="docutils literal notranslate"><span class="pre">n_samples</span></code> rows
and <code class="docutils literal notranslate"><span class="pre">n_features</span></code> columns,
a <code class="docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code> object, or
an array of ASCII strings.</p>
</li>
</ul>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r1af812c21110-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p>Naidan B., Boytsov L., Malkov Y.,  Novak D.,
<em>Non-metric space library (NMSLIB) manual</em>, version 2.0, 2019.
<a class="reference external" href="https://github.com/nmslib/nmslib/blob/master/manual/latex/manual.pdf">https://github.com/nmslib/nmslib/blob/master/manual/latex/manual.pdf</a>.</p>
</div>
</div>
</dd></dl>

</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="genieclust_gic.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">genieclust.GIc</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="genieclust.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Python Package <cite>genieclust</cite> Reference</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
              
              
              Copyright &#169; 2018–2023 by <a href="https://www.gagolewski.com">Marek Gagolewski</a>.
              Some rights reserved. Licensed under <a href='https://creativecommons.org/licenses/by-nc-nd/4.0/'>CC BY-NC-ND 4.0</a>.
              Built with <a href="https://sphinx-doc.org/">Sphinx</a>
              and a customised <a href="https://github.com/pradyunsg/furo">Furo</a> theme.
              Last updated on 2023-11-02T13:35:08+1100.
              This site will never display any ads: it is a non-profit project.
              It does not collect any data.
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            In this section
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">genieclust.Genie</a><ul>
<li><a class="reference internal" href="#genieclust.Genie"><code class="docutils literal notranslate"><span class="pre">Genie</span></code></a><ul>
<li><a class="reference internal" href="#genieclust.Genie.fit"><code class="docutils literal notranslate"><span class="pre">Genie.fit()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=a48ae3df"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=32e29ea5"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>